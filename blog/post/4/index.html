<!DOCTYPE html><html lang="en"><head>
  <meta charset="utf-8">
  <title>Solve "Angular Universal doesn't wait for HTTP calls end"</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="noarchive">

  <!--google search console-->
  <meta name="google-site-verification" content="FvJr6-VJwBRr0W2f2KsCq9l6yjCc-pz34H2DfQvuapI">

  <!--naver webmaster tool-->
  <meta name="naver-site-verification" content="a71aa01a61cb84dee7b2c0633ef7dc6d333b0a1c">

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-L0FBKJKZ1D"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-L0FBKJKZ1D');
  </script>

  <!-- SEO tags -->
  <!-- default -->
  <meta name="author" content="tk2rush90">
  <meta name="description" content="The Angular can serve static html files for SEO without using server. Angular prerendering is key technology to make it work. However, it is not kind enough to developers. In some case, it doesn&amp;#39;t provide fully detailed error, and this makes you annoying and confusing.Fortunately, most of the is">
  <meta name="keywords" itemprop="keywords" content="Angular, Angular Universal, nguniversal, SEO, prerender">
  <!-- twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Solve &quot;Angular Universal doesn't wait for HTTP calls end&quot;">
  <meta name="twitter:description" content="The Angular can serve static html files for SEO without using server. Angular prerendering is key technology to make it work. However, it is not kind enough to developers. In some case, it doesn&amp;#39;t provide fully detailed error, and this makes you annoying and confusing.Fortunately, most of the is">
  <meta name="twitter:image:src" content="/assets/images/posts/4/thumbnail.png?v=lejej2d6gj">
  <meta name="twitter:image" content="/assets/images/posts/4/thumbnail.png?v=lejej2d6gj">
  <meta name="twitter:url" content="https://tk2blog90.github.io/blog/post/4">
  <!-- opengraph -->
  <meta property="og:title" content="Solve &quot;Angular Universal doesn't wait for HTTP calls end&quot;">
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://tk2blog90.github.io/blog/post/4">
  <meta property="og:image" content="/assets/images/posts/4/thumbnail.png?v=lejej2d6gj">
  <meta property="og:description" content="The Angular can serve static html files for SEO without using server. Angular prerendering is key technology to make it work. However, it is not kind enough to developers. In some case, it doesn&amp;#39;t provide fully detailed error, and this makes you annoying and confusing.Fortunately, most of the is">
  <meta property="og:site_name" content="LOGLOG">
  <meta property="og:locale" content="">

  <!-- favicons -->
  <link rel="apple-touch-icon" sizes="57x57" href="/assets/images/app/apple-icon-57x57.png?v=1234">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/images/app/apple-icon-60x60.png?v=1234">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/images/app/apple-icon-72x72.png?v=1234">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/images/app/apple-icon-76x76.png?v=1234">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/images/app/apple-icon-114x114.png?v=1234">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/images/app/apple-icon-120x120.png?v=1234">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/images/app/apple-icon-144x144.png?v=1234">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/images/app/apple-icon-152x152.png?v=1234">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/app/apple-icon-180x180.png?v=1234">
  <link rel="icon" type="image/png" sizes="192x192" href="/assets/images/app/android-icon-192x192.png?v=1234">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/app/favicon-32x32.png?v=1234">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/images/app/favicon-96x96.png?v=1234">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/app/favicon-16x16.png?v=1234">
  <link rel="manifest" href="/assets/images/app/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/images/app/ms-icon-144x144.png?v=1234">
  <meta name="theme-color" content="#ffffff">
<style>@charset "UTF-8";@import"https://fonts.googleapis.com/css2?family=Gothic+A1:wght@100;200;300;400;500;600;700;800;900&family=JetBrains+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap";*{padding:0;margin:0}*{transition:background-color .15s,fill .15s;-webkit-tap-highlight-color:transparent}</style><style>@charset "UTF-8";@import"https://fonts.googleapis.com/css2?family=Gothic+A1:wght@100;200;300;400;500;600;700;800;900&family=JetBrains+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap";*{padding:0;margin:0}a{text-decoration:none;color:inherit}.tk-ripple-container{position:relative}.tk-ripple-container.tk-ripple-bounded{overflow:hidden}.theme-light .grey-text{color:#0000004d}.theme-light app-copyrights{color:#333}.theme-light markdown h1:before,.theme-light markdown h2:before{color:#3333334d}.theme-light .image-placeholder{background-color:#3333330d}.theme-light app-header{background-color:#fff}markdown{display:block}markdown>*:first-child{margin-top:0}markdown *{-webkit-user-select:auto;user-select:auto}markdown h1,markdown h2{margin:2em 0;font-weight:600;word-break:break-word;line-height:1.8em}markdown h1:before,markdown h2:before{content:"#";height:1em;display:inline-block;vertical-align:baseline;margin-right:5px}markdown h1{font-size:26px}markdown h2{font-size:24px}markdown h2 code{font-size:22px}markdown p{margin:2em 0;line-height:1.8em}markdown code{font-family:JetBrains Mono,monospace;font-size:13px;font-weight:400;color:#41c2de}markdown a{color:#41c2de;text-decoration:underline}markdown a:hover{color:#6cd0e6}.theme-light code[class*=language-]{color:#000;background:none;text-shadow:0 1px white;font-family:JetBrains Mono,Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:12px;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.8em;tab-size:4;-webkit-hyphens:none;hyphens:none}.theme-light code[class*=language-]::selection,.theme-light code[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{.theme-light code[class*=language-]{text-shadow:none}}*{transition:background-color .15s,fill .15s;-webkit-tap-highlight-color:transparent}img{display:block}</style><link rel="stylesheet" href="styles.02f4ad07d2109d2d.css" media="print" onload="this.media='all'"><noscript><link rel="stylesheet" href="styles.02f4ad07d2109d2d.css"></noscript><style ng-transition="serverApp">[_nghost-sc75]{width:100%;height:100%;position:absolute;display:block;font-family:Montserrat,Gothic A1,sans-serif;font-size:14px}.theme-light[_nghost-sc75]{background-color:#fff;color:#333}.theme-dark[_nghost-sc75]{background-color:#333;color:#fff}[_nghost-sc75]     app-home+app-home, [_nghost-sc75]     app-home+app-blog, [_nghost-sc75]     app-blog+app-home, [_nghost-sc75]     app-blog+app-blog{position:absolute;width:100%;top:0}[_nghost-sc75]     app-home+app-home, [_nghost-sc75]     app-home+app-not-found, [_nghost-sc75]     app-not-found+app-home, [_nghost-sc75]     app-not-found+app-not-found{position:absolute;width:100%;top:0}[_nghost-sc75]     app-blog+app-blog, [_nghost-sc75]     app-blog+app-not-found, [_nghost-sc75]     app-not-found+app-blog, [_nghost-sc75]     app-not-found+app-not-found{position:absolute;width:100%;top:0}</style><style ng-transition="serverApp"></style><style ng-transition="serverApp">[_nghost-sc25]{width:100%;height:100%;display:block;overflow:auto}main[_ngcontent-sc25]{max-width:1000px;width:calc(100% - 20px);margin:0 auto}app-header[_ngcontent-sc25]{z-index:100}app-header.scrollable[_ngcontent-sc25]{position:sticky;top:0;height:70px;opacity:0;transition:opacity .1s;box-shadow:0 3px 6px #0003;pointer-events:none}app-header.scrollable.scrolled[_ngcontent-sc25]{opacity:1;pointer-events:auto}.container[_ngcontent-sc25]{position:relative}[_nghost-sc25]     app-list+app-list, [_nghost-sc25]     app-list+app-post, [_nghost-sc25]     app-post+app-list, [_nghost-sc25]     app-post+app-post{position:absolute;width:100%;top:0}[_nghost-sc25]     app-list+app-list, [_nghost-sc25]     app-list+app-search, [_nghost-sc25]     app-search+app-list, [_nghost-sc25]     app-search+app-search{position:absolute;width:100%;top:0}[_nghost-sc25]     app-list+app-list, [_nghost-sc25]     app-list+app-tags, [_nghost-sc25]     app-tags+app-list, [_nghost-sc25]     app-tags+app-tags{position:absolute;width:100%;top:0}[_nghost-sc25]     app-post+app-post, [_nghost-sc25]     app-post+app-search, [_nghost-sc25]     app-search+app-post, [_nghost-sc25]     app-search+app-search{position:absolute;width:100%;top:0}[_nghost-sc25]     app-post+app-post, [_nghost-sc25]     app-post+app-tags, [_nghost-sc25]     app-tags+app-post, [_nghost-sc25]     app-tags+app-tags{position:absolute;width:100%;top:0}[_nghost-sc25]     app-search+app-search, [_nghost-sc25]     app-search+app-tags, [_nghost-sc25]     app-tags+app-search, [_nghost-sc25]     app-tags+app-tags{position:absolute;width:100%;top:0}</style><style ng-transition="serverApp">[_nghost-sc24]{display:block;-webkit-user-select:none;user-select:none;height:150px}.container[_ngcontent-sc24]{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;max-width:1000px;width:calc(100% - 20px);height:100%;margin:0 auto}.container[_ngcontent-sc24] > *[_ngcontent-sc24]{flex:0 0 auto}.title[_ngcontent-sc24]{font-weight:900;font-size:30px;color:#41c2de}.buttons[_ngcontent-sc24]{display:flex;align-items:center;flex-wrap:wrap}.buttons[_ngcontent-sc24] > *[_ngcontent-sc24]{flex:0 0 auto}.search[_ngcontent-sc24]{margin-left:10px}</style><style ng-transition="serverApp">[_nghost-sc21]{cursor:pointer;display:block}</style><style ng-transition="serverApp">[_nghost-sc19]{display:block}[_nghost-sc19]     svg{display:block}</style><style ng-transition="serverApp">[_nghost-sc71]{position:relative;display:block}.container[_ngcontent-sc71]{max-width:600px;width:100%;margin:0 auto}.meta[_ngcontent-sc71]{display:flex;align-items:center;flex-direction:column;flex-wrap:wrap;text-align:center}.meta[_ngcontent-sc71] > *[_ngcontent-sc71]{flex:0 0 auto}.title[_ngcontent-sc71]{font-size:20px;font-weight:600;margin-top:20px}.description[_ngcontent-sc71]{margin-top:10px}.banner[_ngcontent-sc71]{width:100%;height:350px;overflow:hidden;margin-top:50px}.banner[_ngcontent-sc71]   img[_ngcontent-sc71]{width:100%;height:100%;object-fit:cover}.credit[_ngcontent-sc71]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;height:40px;font-size:12px}.credit[_ngcontent-sc71] > *[_ngcontent-sc71]{flex:0 0 auto}.credit[_ngcontent-sc71]   a[_ngcontent-sc71]{text-decoration:underline}.contents[_ngcontent-sc71]{position:relative;margin-top:50px}.contents[_ngcontent-sc71]   .container[_ngcontent-sc71]{margin:0}@media screen and (min-width: 841px){.contents[_ngcontent-sc71]{display:flex;align-items:flex-start;flex-wrap:wrap}.contents[_ngcontent-sc71] > *[_ngcontent-sc71]{flex:0 0 auto}}@media screen and (max-width: 840px){.contents[_ngcontent-sc71]{display:flex;align-items:center;flex-direction:column-reverse;flex-wrap:wrap}.contents[_ngcontent-sc71] > *[_ngcontent-sc71]{flex:0 0 auto}}.actions[_ngcontent-sc71]{box-sizing:border-box;padding:20px 0;position:sticky;top:70px}@media screen and (min-width: 841px){.actions[_ngcontent-sc71]{display:flex;align-items:center;flex-direction:column;flex-wrap:wrap;width:200px}.actions[_ngcontent-sc71] > *[_ngcontent-sc71]{flex:0 0 auto}}@media screen and (max-width: 840px){.actions[_ngcontent-sc71]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;width:100%}.actions[_ngcontent-sc71] > *[_ngcontent-sc71]{flex:0 0 auto}}.action[_ngcontent-sc71]{display:flex;align-items:center;flex-direction:column;flex-wrap:wrap;text-align:center;font-size:11px;cursor:pointer;-webkit-user-select:none;user-select:none;text-transform:uppercase}.action[_ngcontent-sc71] > *[_ngcontent-sc71]{flex:0 0 auto}.action[_ngcontent-sc71]   span[_ngcontent-sc71]{margin-top:5px}@media screen and (max-width: 840px){.action[_ngcontent-sc71]   span[_ngcontent-sc71]{display:none}}@media screen and (min-width: 841px){.action[_ngcontent-sc71] + .action[_ngcontent-sc71]{margin-top:20px}}@media screen and (max-width: 840px){.action[_ngcontent-sc71] + .action[_ngcontent-sc71]{margin-left:20px}}article[_ngcontent-sc71]{line-height:1.8em;-webkit-user-select:auto;user-select:auto}app-tag-list[_ngcontent-sc71], app-copyrights[_ngcontent-sc71]{margin-top:50px}app-loading-spinner[_ngcontent-sc71]{position:absolute;width:100%;top:0}app-table-of-contents[_ngcontent-sc71]:not(.empty) + markdown[_ngcontent-sc71]{margin-top:2em}</style><style ng-transition="serverApp">[_nghost-sc66]{display:block}.label[_ngcontent-sc66] + .tags[_ngcontent-sc66]{margin-top:10px}.tags[_ngcontent-sc66]{display:flex;flex-wrap:wrap}.tags[_ngcontent-sc66] > *[_ngcontent-sc66]{flex:0 0 auto}a[_ngcontent-sc66]{padding:0 10px;box-sizing:border-box;border:1px solid transparent;display:flex;align-items:center;flex-wrap:wrap;margin-right:5px;margin-bottom:5px;background-color:#41c2de;color:#fff;font-size:12px;height:25px;border-radius:25px}a[_ngcontent-sc66] > *[_ngcontent-sc66]{flex:0 0 auto}a[_ngcontent-sc66]:hover{background-color:#6cd0e6}.empty[_ngcontent-sc66]{width:100%;font-size:12px;text-align:center}</style><style ng-transition="serverApp">[_nghost-sc22]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;height:55px;text-align:center;font-size:12px}[_nghost-sc22] > *[_ngcontent-sc22]{flex:0 0 auto}</style><style ng-transition="serverApp">[_nghost-sc68]{box-sizing:border-box;padding:20px;display:flex;align-items:flex-start;flex-direction:column;flex-wrap:wrap}[_nghost-sc68] > *[_ngcontent-sc68]{flex:0 0 auto}.light[_nghost-sc68]{background-color:#3333330d}.light[_nghost-sc68]   a[_ngcontent-sc68]   span[_ngcontent-sc68]{color:#3333334d}.dark[_nghost-sc68]{background-color:#ffffff0d}.dark[_nghost-sc68]   a[_ngcontent-sc68]   span[_ngcontent-sc68]{color:#ffffff4d}.empty[_nghost-sc68]{display:none}a[_ngcontent-sc68]{display:block;font-size:14px}a[_ngcontent-sc68]:hover{text-decoration:underline}a.indent-1[_ngcontent-sc68]{box-sizing:border-box;padding-left:0}a.indent-2[_ngcontent-sc68]{box-sizing:border-box;padding-left:10px}a.indent-3[_ngcontent-sc68]{box-sizing:border-box;padding-left:20px}a.indent-4[_ngcontent-sc68]{box-sizing:border-box;padding-left:30px}a.indent-5[_ngcontent-sc68]{box-sizing:border-box;padding-left:40px}a.indent-6[_ngcontent-sc68]{box-sizing:border-box;padding-left:50px}a[_ngcontent-sc68] + a[_ngcontent-sc68]{margin-top:10px}</style><meta property="article:published_time" content="2022-04-25T04:49:00.000Z"><meta property="article:tag" content="Angular"><meta property="article:tag" content="Angular Universal"><meta property="article:tag" content="nguniversal"><meta property="article:tag" content="SEO"><meta property="article:tag" content="prerender"></head>
<body>
  <app-root _nghost-sc75="" ng-version="13.1.3" class="theme-light"><router-outlet _ngcontent-sc75=""></router-outlet><app-blog _nghost-sc25="" class="ng-star-inserted"><app-header _ngcontent-sc25="" _nghost-sc24=""><div _ngcontent-sc24="" class="container"><a _ngcontent-sc24="" class="title" href="/blog"> LOGLOG </a><div _ngcontent-sc24="" class="buttons"><app-theme-button _ngcontent-sc24="" _nghost-sc21=""><app-icon _ngcontent-sc21="" appripple="" _nghost-sc19="" tk-name="nightlight:black-30" class="tk-ripple-container tk-ripple-black"></app-icon><!----></app-theme-button><a _ngcontent-sc24="" appripple="" class="search tk-ripple-container tk-ripple-black" href="/blog/search"><app-icon _ngcontent-sc24="" name="search:black-30" class="grey-icon" _nghost-sc19="" tk-name="search:black-30"></app-icon></a><!----></div></div></app-header><app-header _ngcontent-sc25="" class="scrollable" _nghost-sc24=""><div _ngcontent-sc24="" class="container"><a _ngcontent-sc24="" class="title" href="/blog"> LOGLOG </a><div _ngcontent-sc24="" class="buttons"><app-theme-button _ngcontent-sc24="" _nghost-sc21=""><app-icon _ngcontent-sc21="" appripple="" _nghost-sc19="" tk-name="nightlight:black-30" class="tk-ripple-container tk-ripple-black"></app-icon><!----></app-theme-button><a _ngcontent-sc24="" appripple="" class="search tk-ripple-container tk-ripple-black" href="/blog/search"><app-icon _ngcontent-sc24="" name="search:black-30" class="grey-icon" _nghost-sc19="" tk-name="search:black-30"></app-icon></a><!----></div></div></app-header><main _ngcontent-sc25="" class=""><div _ngcontent-sc25="" class="container"><router-outlet _ngcontent-sc25=""></router-outlet><app-post _nghost-sc71="" class="ng-tns-c71-0 ng-trigger ng-trigger-fade-in ng-star-inserted" style="opacity:1;"><div _ngcontent-sc71="" class="meta container ng-tns-c71-0"><div _ngcontent-sc71="" class="grey-text ng-tns-c71-0"> 25 April, 2022 </div><h1 _ngcontent-sc71="" class="title ng-tns-c71-0"> Solve "Angular Universal doesn't wait for HTTP calls end" </h1><div _ngcontent-sc71="" class="grey-text description ng-tns-c71-0"> It's mostly your fault </div></div><div _ngcontent-sc71="" class="banner image-placeholder ng-tns-c71-0"><img _ngcontent-sc71="" class="ng-tns-c71-0 ng-star-inserted" src="/assets/images/posts/4/banner.png" alt="Solve &quot;Angular Universal doesn't wait for HTTP calls end&quot;" style=""><!----></div><div _ngcontent-sc71="" class="credit ng-tns-c71-0 ng-star-inserted" style=""><div _ngcontent-sc71="" class="grey-text ng-tns-c71-0"> Photo by <a _ngcontent-sc71="" appouterlink="" class="ng-tns-c71-0" href="https://unsplash.com/@ilyapavlov?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" target="_blank" rel="nofollow noreferrer noopener">Ilya Pavlov</a> on <a _ngcontent-sc71="" href="https://unsplash.com" appouterlink="" class="ng-tns-c71-0" target="_blank" rel="nofollow noreferrer noopener">Unsplash</a>. </div></div><!----><div _ngcontent-sc71="" class="contents ng-tns-c71-0"><div _ngcontent-sc71="" class="actions ng-tns-c71-0"><a _ngcontent-sc71="" appouterlink="" class="action ng-tns-c71-0" href="https://twitter.com/intent/tweet?url=https%3A%2F%2Ftk2blog90.github.io%2Fblog%2Fpost%2F4" target="_blank" rel="nofollow noreferrer noopener"><app-icon _ngcontent-sc71="" name="twitter:black-30" class="grey-icon ng-tns-c71-0" _nghost-sc19="" tk-name="twitter:black-30"></app-icon><span _ngcontent-sc71="" class="grey-text ng-tns-c71-0">twitter</span></a><div _ngcontent-sc71="" class="action ng-tns-c71-0"><app-icon _ngcontent-sc71="" name="share:black-30" class="grey-icon ng-tns-c71-0" _nghost-sc19="" tk-name="share:black-30"></app-icon><span _ngcontent-sc71="" class="grey-text ng-tns-c71-0">share</span></div><a _ngcontent-sc71="" href="https://www.buymeacoffee.com/tk2rush90" appouterlink="" class="action ng-tns-c71-0" target="_blank" rel="nofollow noreferrer noopener"><app-icon _ngcontent-sc71="" name="buy-me-a-coffee:black-30" class="grey-icon ng-tns-c71-0" _nghost-sc19="" tk-name="buy-me-a-coffee:black-30"></app-icon><span _ngcontent-sc71="" class="grey-text ng-tns-c71-0">buy me a coffee</span></a></div><article _ngcontent-sc71="" class="container ng-tns-c71-0"><app-table-of-contents _ngcontent-sc71="" _nghost-sc68="" class="ng-tns-c71-0 light ng-star-inserted" style=""><a _ngcontent-sc68="" class="indent-1 ng-star-inserted" href="/blog/post/4#http-calls-in-angular-universal"><span _ngcontent-sc68="">#</span> 
</a><a _ngcontent-sc68="" class="indent-1 ng-star-inserted" href="/blog/post/4#force-rendering-the-components"><span _ngcontent-sc68="">#</span> 
</a><a _ngcontent-sc68="" class="indent-2 ng-star-inserted" href="/blog/post/4#when-the-component-is-empty"><span _ngcontent-sc68="">#</span> 
</a><a _ngcontent-sc68="" class="indent-2 ng-star-inserted" href="/blog/post/4#when-the-router-outlet-is-not-rendered"><span _ngcontent-sc68="">#</span> 
</a><a _ngcontent-sc68="" class="indent-1 ng-star-inserted" href="/blog/post/4#conclusion"><span _ngcontent-sc68="">#</span> 
</a><!----></app-table-of-contents><!----><markdown _ngcontent-sc71="" class="ng-tns-c71-0"><p>The Angular can serve static html files for SEO without using server.
<a href="https://angular.io/guide/prerendering" target="_blank" rel="nofollow noreferrer noopener">Angular prerendering</a> is key technology to make it work.
However, it is not kind enough to developers.
In some case, it doesn't provide fully detailed error,
and this makes you annoying and confusing.</p>
<p>Fortunately, most of the issues from prerendering is your fault.
So what you need is just the way to figure out problems.</p>
<h1 id="http-calls-in-angular-universal">Http calls in Angular Universal</h1>
<p>The Angular is the most perfect web frontend framework.
And the Angular Universal is the most perfect SSR framework with Angular.
When there are some http calls in your project,
basically the Angular Universal waits until the http calls end.</p>
<p>If your application doesn't wait,
there is a high possibility that an error occurred
while rendering components from the server.
Actually, it's not a bug of Angular prerendering.</p>
<h1 id="force-rendering-the-components">Force rendering the components</h1>
<p>The way to find out the problems is simple.
Just force rendering the un-rendered component.
Let me show you 2 cases.</p>
<p>This way can show you the errors which are not notified by Angular prerendering.</p>
<h2 id="when-the-component-is-empty">When the component is empty</h2>
<p>Let's assume that the situation.</p>
<p>You're calling <code>GET /data</code> API and the following is a response of it.</p>
<pre><code class="language-json">{
  "name": "tk2rush90",
  "job": "full-stack developer"
}
</code></pre>
<p>And your <code>user.component.ts</code> and <code>user-page.component.ts</code> looks like below.</p>
<pre><code class="language-typescript">import {Component, Input, OnInit} from '@angular/core';

/**
 * The `user.component.ts` file to display user data.
 */
@Component({
  selector: 'app-user',
  template: `
    &lt;div&gt;
      {{name}}
    &lt;/div&gt;
    &lt;div&gt;
      {{job}}
    &lt;/div&gt;
  `
})
export class UserComponent implements OnInit {
  /**
   * User data to display.
   */
  @Input() user!: {name: string, job: string};

  constructor() { }

  ngOnInit(): void { }
}
</code></pre>
<pre><code class="language-typescript">import {Component, OnInit} from '@angular/core';
import {HttpClient} from '@angular/common/http';

/**
 * The `user-page.component.ts` file which show user profile.
 */
@Component({
  selector: 'app-user-page',
  template: `
    &lt;app-user
      *ngIf="user"
      [user]="user"&gt;&lt;/app-user&gt;
  `
})
export class UserPageComponent implements OnInit {
  /**
   * Fetched user data.
   */
  user?: {name: string, job: string};

  constructor(
    private http: HttpClient,
  ) {
  }

  ngOnInit(): void {
    this._getData();
  }

  /**
   * Get user data from the backend.
   */
  private _getData(): void {
    this.http.get('/data')
      .subscribe({
        next: res =&gt; {
          this.user = res;
        },
      });
  }
}
</code></pre>
<p>Then, assume that you met empty <code>&lt;app-user-page&gt;</code> component
after prerendering your application.
(Actually, the above code will work well. It's just assumption)</p>
<p>In this case, what you can do is rendering <code>&lt;app-user&gt;</code> component with mock user data.</p>
<pre><code class="language-typescript">import {Component, OnInit} from '@angular/core';
import {HttpClient} from '@angular/common/http';

/**
 * The `user-page.component.ts` file which show user profile.
 */
@Component({
  selector: 'app-user-page',
  template: `
    &lt;app-user
      *ngIf="user"
      [user]="user"&gt;&lt;/app-user&gt;
  `
})
export class UserPageComponent implements OnInit {
  /**
   * Set mock data force rendering the child component.
   */
  user: {name: string, job: string} = {
    name: 'tk2rush90',
    job: 'full-stack developer',
  };

  constructor(
    private http: HttpClient,
  ) {
  }

  ngOnInit(): void {
    // Comment out calling API.
    // this._getData();
  }

  /**
   * Get user data from the backend.
   */
  private _getData(): void {
    this.http.get('/data')
      .subscribe({
        next: res =&gt; {
          this.user = res;
        },
      });
  }
}
</code></pre>
<h2 id="when-the-router-outlet-is-not-rendered">When the <code>&lt;router-outlet&gt;</code> is not rendered</h2>
<p>There may be the case of empty contents without rendering routing components like,</p>
<pre><code class="language-html">&lt;!-- This is prerendered HTML file of your application. --&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;title&gt;Title&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;app-root&gt;
      &lt;router-outlet&gt;&lt;/router-outlet&gt;
      &lt;!-- No page component is rendered. --&gt;
    &lt;/app-root&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>Then, use same way above by forcing rendering the page component.</p>
<pre><code class="language-typescript">import {Component} from '@angular/core';

@Component({
  selector: 'app-root',
  template: `
    &lt;router-outlet&gt;&lt;/router-outlet&gt;
    &lt;app-page-component&gt;&lt;app-page-component&gt;
  `
})
</code></pre>
<h1 id="conclusion">Conclusion</h1>
<p>It may not be helpful to you,
but I believe this can be the first step to solve your issues.</p>
<p>If you didn't get any errors with this way,
then you can try another way by searching Google God.</p>
</markdown><app-tag-list _ngcontent-sc71="" class="ng-tns-c71-0" _nghost-sc66=""><div _ngcontent-sc66="" class="label grey-text ng-star-inserted" style=""> Tags
</div><!----><div _ngcontent-sc66="" class="tags"><a _ngcontent-sc66="" ripplecolor="white" appripple="" href="/blog/tags" class="tk-ripple-bounded tk-ripple-container tk-ripple-white ng-star-inserted" style=""> Javascript </a><!----><a _ngcontent-sc66="" ripplecolor="white" appripple="" href="/blog/tags" class="tk-ripple-bounded tk-ripple-container tk-ripple-white ng-star-inserted" style=""> Typescript </a><!----><a _ngcontent-sc66="" ripplecolor="white" appripple="" href="/blog/tags" class="tk-ripple-bounded tk-ripple-container tk-ripple-white ng-star-inserted" style=""> Angular2+ </a><!----><a _ngcontent-sc66="" ripplecolor="white" appripple="" href="/blog/tags" class="tk-ripple-bounded tk-ripple-container tk-ripple-white ng-star-inserted" style=""> SSR </a><!----><!----><!----></div></app-tag-list></article></div><app-copyrights _ngcontent-sc71="" class="ng-tns-c71-0" _nghost-sc22="">Copyright 2022, tk2rush90, All rights reserved
</app-copyrights></app-post><!----></div></main></app-blog><!----><app-toast-outlet _ngcontent-sc75="" _nghost-sc74=""><!----></app-toast-outlet></app-root>
<script src="runtime.981875f5d48baa06.js" type="module"></script><script src="polyfills.1e96b5fb5884ac7d.js" type="module"></script><script src="scripts.87322bffab07761e.js" defer=""></script><script src="main.b0b1e7ce38becb25.js" type="module"></script>


<script id="serverApp-state" type="application/json">{&q;G.https://tk2blog90.github.io/assets/data/post/4?&q;:{&q;body&q;:{&q;title&q;:&q;Solve \&q;Angular Universal doesn&s;t wait for HTTP calls end\&q;&q;,&q;description&q;:&q;It&s;s mostly your fault&q;,&q;keywords&q;:[&q;Angular&q;,&q;Angular Universal&q;,&q;nguniversal&q;,&q;SEO&q;,&q;prerender&q;],&q;tags&q;:[&q;Javascript&q;,&q;Typescript&q;,&q;Angular2+&q;,&q;SSR&q;],&q;banner&q;:&q;/assets/images/posts/4/banner.png&q;,&q;thumbnail&q;:&q;/assets/images/posts/4/thumbnail.png&q;,&q;bannerCredit&q;:{&q;name&q;:&q;Ilya Pavlov&q;,&q;id&q;:&q;@ilyapavlov&q;},&q;publish&q;:&q;2022-04-25 13:49:00&q;,&q;id&q;:&q;4&q;,&q;contents&q;:&q;The Angular can serve static html files for SEO without using server.\r\n[Angular prerendering](https://angular.io/guide/prerendering) is key technology to make it work.\r\nHowever, it is not kind enough to developers.\r\nIn some case, it doesn&s;t provide fully detailed error,\r\nand this makes you annoying and confusing.\r\n\r\nFortunately, most of the issues from prerendering is your fault.\r\nSo what you need is just the way to figure out problems.\r\n\r\n# Http calls in Angular Universal\r\n\r\nThe Angular is the most perfect web frontend framework.\r\nAnd the Angular Universal is the most perfect SSR framework with Angular.\r\nWhen there are some http calls in your project,\r\nbasically the Angular Universal waits until the http calls end.\r\n\r\nIf your application doesn&s;t wait,\r\nthere is a high possibility that an error occurred\r\nwhile rendering components from the server.\r\nActually, it&s;s not a bug of Angular prerendering.\r\n\r\n# Force rendering the components\r\n\r\nThe way to find out the problems is simple.\r\nJust force rendering the un-rendered component.\r\nLet me show you 2 cases.\r\n\r\nThis way can show you the errors which are not notified by Angular prerendering.\r\n\r\n## When the component is empty\r\n\r\nLet&s;s assume that the situation.\r\n\r\nYou&s;re calling `GET /data` API and the following is a response of it.\r\n\r\n```json\r\n{\r\n  \&q;name\&q;: \&q;tk2rush90\&q;,\r\n  \&q;job\&q;: \&q;full-stack developer\&q;\r\n}\r\n```\r\n\r\nAnd your `user.component.ts` and `user-page.component.ts` looks like below.\r\n\r\n```typescript\r\nimport {Component, Input, OnInit} from &s;@angular/core&s;;\r\n\r\n/**\r\n * The `user.component.ts` file to display user data.\r\n */\r\n@Component({\r\n  selector: &s;app-user&s;,\r\n  template: `\r\n    &l;div&g;\r\n      {{name}}\r\n    &l;/div&g;\r\n    &l;div&g;\r\n      {{job}}\r\n    &l;/div&g;\r\n  `\r\n})\r\nexport class UserComponent implements OnInit {\r\n  /**\r\n   * User data to display.\r\n   */\r\n  @Input() user!: {name: string, job: string};\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void { }\r\n}\r\n```\r\n\r\n```typescript\r\nimport {Component, OnInit} from &s;@angular/core&s;;\r\nimport {HttpClient} from &s;@angular/common/http&s;;\r\n\r\n/**\r\n * The `user-page.component.ts` file which show user profile.\r\n */\r\n@Component({\r\n  selector: &s;app-user-page&s;,\r\n  template: `\r\n    &l;app-user\r\n      *ngIf=\&q;user\&q;\r\n      [user]=\&q;user\&q;&g;&l;/app-user&g;\r\n  `\r\n})\r\nexport class UserPageComponent implements OnInit {\r\n  /**\r\n   * Fetched user data.\r\n   */\r\n  user?: {name: string, job: string};\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this._getData();\r\n  }\r\n\r\n  /**\r\n   * Get user data from the backend.\r\n   */\r\n  private _getData(): void {\r\n    this.http.get(&s;/data&s;)\r\n      .subscribe({\r\n        next: res =&g; {\r\n          this.user = res;\r\n        },\r\n      });\r\n  }\r\n}\r\n```\r\n\r\nThen, assume that you met empty `&l;app-user-page&g;` component\r\nafter prerendering your application.\r\n(Actually, the above code will work well. It&s;s just assumption)\r\n\r\nIn this case, what you can do is rendering `&l;app-user&g;` component with mock user data.\r\n\r\n```typescript\r\nimport {Component, OnInit} from &s;@angular/core&s;;\r\nimport {HttpClient} from &s;@angular/common/http&s;;\r\n\r\n/**\r\n * The `user-page.component.ts` file which show user profile.\r\n */\r\n@Component({\r\n  selector: &s;app-user-page&s;,\r\n  template: `\r\n    &l;app-user\r\n      *ngIf=\&q;user\&q;\r\n      [user]=\&q;user\&q;&g;&l;/app-user&g;\r\n  `\r\n})\r\nexport class UserPageComponent implements OnInit {\r\n  /**\r\n   * Set mock data force rendering the child component.\r\n   */\r\n  user: {name: string, job: string} = {\r\n    name: &s;tk2rush90&s;,\r\n    job: &s;full-stack developer&s;,\r\n  };\r\n\r\n  constructor(\r\n    private http: HttpClient,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // Comment out calling API.\r\n    // this._getData();\r\n  }\r\n\r\n  /**\r\n   * Get user data from the backend.\r\n   */\r\n  private _getData(): void {\r\n    this.http.get(&s;/data&s;)\r\n      .subscribe({\r\n        next: res =&g; {\r\n          this.user = res;\r\n        },\r\n      });\r\n  }\r\n}\r\n```\r\n\r\n## When the `&l;router-outlet&g;` is not rendered\r\n\r\nThere may be the case of empty contents without rendering routing components like,\r\n\r\n```html\r\n&l;!-- This is prerendered HTML file of your application. --&g;\r\n&l;html lang=\&q;en\&q;&g;\r\n  &l;head&g;\r\n    &l;title&g;Title&l;/title&g;\r\n  &l;/head&g;\r\n  &l;body&g;\r\n    &l;app-root&g;\r\n      &l;router-outlet&g;&l;/router-outlet&g;\r\n      &l;!-- No page component is rendered. --&g;\r\n    &l;/app-root&g;\r\n  &l;/body&g;\r\n&l;/html&g;\r\n```\r\n\r\nThen, use same way above by forcing rendering the page component.\r\n\r\n```typescript\r\nimport {Component} from &s;@angular/core&s;;\r\n\r\n@Component({\r\n  selector: &s;app-root&s;,\r\n  template: `\r\n    &l;router-outlet&g;&l;/router-outlet&g;\r\n    &l;app-page-component&g;&l;app-page-component&g;\r\n  `\r\n})\r\n```\r\n\r\n# Conclusion\r\n\r\nIt may not be helpful to you,\r\nbut I believe this can be the first step to solve your issues.\r\n\r\nIf you didn&s;t get any errors with this way,\r\nthen you can try another way by searching Google God.\r\n&q;,&q;created&q;:&q;2022-04-25 13:49:00&q;},&q;headers&q;:{&q;connection&q;:[&q;keep-alive&q;],&q;content-length&q;:[&q;5741&q;],&q;server&q;:[&q;GitHub.com&q;],&q;content-type&q;:[&q;application/octet-stream&q;],&q;permissions-policy&q;:[&q;interest-cohort=()&q;],&q;last-modified&q;:[&q;Mon, 25 Apr 2022 05:01:22 GMT&q;],&q;access-control-allow-origin&q;:[&q;*&q;],&q;strict-transport-security&q;:[&q;max-age=31556952&q;],&q;etag&q;:[&q;\&q;62662b22-166d\&q;&q;],&q;expires&q;:[&q;Mon, 25 Apr 2022 05:16:01 GMT&q;],&q;cache-control&q;:[&q;max-age=600&q;],&q;x-proxy-cache&q;:[&q;MISS&q;],&q;x-github-request-id&q;:[&q;DAE0:59C7:3708A2:3A11CE:62662C39&q;],&q;accept-ranges&q;:[&q;bytes&q;],&q;date&q;:[&q;Mon, 25 Apr 2022 05:06:01 GMT&q;],&q;via&q;:[&q;1.1 varnish&q;],&q;age&q;:[&q;0&q;],&q;x-served-by&q;:[&q;cache-icn1450024-ICN&q;],&q;x-cache&q;:[&q;MISS&q;],&q;x-cache-hits&q;:[&q;0&q;],&q;x-timer&q;:[&q;S1650863161.227399,VS0,VE206&q;],&q;vary&q;:[&q;Accept-Encoding&q;],&q;x-fastly-request-id&q;:[&q;b355d3179d9656a8ecaccba86fb98801ca4ebe80&q;]},&q;status&q;:200,&q;statusText&q;:&q;OK&q;,&q;url&q;:&q;https://tk2blog90.github.io/assets/data/post/4&q;}}</script></body><!-- This page was prerendered with Angular Universal --></html>